### ADP : 의존성 비순환 원칙

- 컴포넌트 의존성 그래프에 순환이 있어서는 안된다

**주 단위 빌드**

- 중간 규모의 프로젝트에서는 흔하게 사용된다
- 첫 4일 동안은 서로를 신경 쓰지 않고 작업을 하다가 마지막 날에 변경된 코드를 모두 통합하여 시스템을 빌드한다
- 장점 : 5일 중 4일 동안 개발자가 고립된 세계에서 살 수 있게 보장해줌
- 단점 : 금요일에 통합과 관련된 막대한 업보를 치러야 한다
- 이 같은 흐름은 위기를 초래하기 쉽다

**순환 의존성 제거하기**

- 개발 환경을 릴리스 가능한 컴포넌트 단위로 분리하는 것이다
- 개발자가 해당 컴포넌트가 동작하도록 만든 후 대당 컴포넌트를 릴리스하여 다른 개발자가 사용할 수 있도록 만든다
- 각자 팀에서 새 릴리스를 적용할 준비가 되었다는 판단이 들면 새 릴리스를 사용하기 시작한다
- 특정 컴포넌트가 변경 되더라도 다른 팀에 즉각 영향을 주지는 않아서 어떤 팀도 다른 팀에 의해 좌우되지 않는다
- 컴포넌트 사이의 의존성 구조를 반드시 관리해야 한다.(의존성 구조에 순환이 생기게 되면 '숙취 증후군'을 피해 갈 수 없다)
- 컴포넌트 구조는 방향 그래프이다. 컴포넌트는 정점, 의존성 관계는 방향이 있는 간선에 해당한다. 그리고 비순환 방향 그래프여서 순환이 없고 최초의 컴포넌트로 되돌아갈 수 없다
- 구성요소 간 의존성을 파악하고 있으면 시스템을 빌드하는 방법을 알 수 있다

**순환이 컴포넌트 의존성 그래프에 미치는 영향**

- 순환 의존성이 발생하면 해당 컴포넌트의 개발자들은 모두 서로에게 얽매이게 된다. 모두 항상 정확하게 동일한 릴리스를 사용해야 하기 때문
- 의존성 그래프에 순환이 생기면 컴포넌트를 어떤 순서로 빌드해야 올바를지 파악하기가 상당히 힘들어진다.
- 순호나이 생기면 올바른 순서라는 것 자체가 없을 수도 있다.

**순환 끊기**

- 컴포넌트 사이의 순환을 끊고 의존성을 다시 DAG로 원상복구하는 일은 언제라도 가능하다
  1. 의존성 역전 원칙을 적용한다
  2. 새로운 컴포넌트를 만든다

**흐트러짐**

- 요구사항이 변경되면 컴포넌트 구조도 변경될 수 있다는 사실이다.
- 애플리케이션이 성장함에 따라 컴포넌트 의존성 구조는 서서히 흐트러지면 또 성장한다.
- 순환이 발생한는지 항상 관찰해야 하고 어떤 식으로든 끊어야 한다.
- 새로운 컴포넌트를 생성하거나 의존성 구조가 더 커질수도 있음을 의미.
