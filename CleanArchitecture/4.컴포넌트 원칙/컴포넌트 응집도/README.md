## 컴포넌트 응집도

컴퓨넌트 응집도와 관련된 세 가지 원칙을 논의한다

### REP : 재사용/릴리스 등가 원칙

- 재사용 단위는 릴리스 단위와 같다

  *릴리스란? 릴리스는 소프트웨어 배포 생명 주기에서 컴퓨터 소프트웨어의 배포를 의미한다.

- 단일 컴포넌트는 응집성 높은 클래스와 모듈들로 구성되어야 함을 뜻한다

  *모듈이란? 커다란 장치나 배열 내에서 비교적 작은 크기의 부품으로서 독립적으로 설치되고, 교체되고, 사용될 수 있도록 설계된 구성요소를 말한다.

- 컴포넌트를 구성하는 모든 모듈은 서로 공유하는 중요한 테마나 목적이 있어야 한다

### CCP : 공통 폐쇄 원칙

- 동일한 이유로 동일한 시점에 변경되는 클래스를 같은 컴포넌트로 묶어라
- 서로 다른 시점에 다른 이유로 변경되는 클래스는 다른 컴포넌트로 분리하라
- 단일 컴포넌트는 변경의 이유가 여러 개 있으서는 안된다
- 애플리케이션에서 코드가 반드시 변경되어야 한다면, 여러 컴포넌트 도처에 분산되어 발생하기보다는, 차라리 변경 모두가 단일 컴포넌트에서 발생하는 편이 낫다(대다수의 애플리케이션에서 유지보수성은 재사용성보다 훨씬 중요하다)(변경된 컴포넌트에 의존하지 않는 다른 컴포넌트는 다시 검증하거나 배포할 필요가 없다)
- 위와 같은 이유로 변경될 가능성이 있는 클래스는 모두 한곳으로 묶을 것을 권한다, 항상 함께 변경되는 클래스들은 하나의 컴포넌트의 속해야 한다
- 릴리스, 재검증, 배포하는 일과 관련된 작업량을 최소화할 수 있다
- 대다수의 공통적인 변경에 대해서 클래스가 닫혀 있도록 설계한다

### CRP : 공통 재사용 원칙

- 컴포넌트 사용자들을 필요하지 않는 것에 의존하게 강요하지 말라
- 같이 재사용되는 경향이 있는 클래스와 모듈들은 같은 컴포넌트에 포함해야 한다고 말한다(CRP도 클래스와 모듈을 어느 컴포넌트에 위치시킬지 결정할 때 도움되는 원칙이다)
- 컨테이너 클래스와 해당 클래스의 이터레이터 클래스는 서로 강하게 결합되어 있기 때문에 함께 재사용되기 때문에 동일한 컴포넌트에 위치해야 한다(컴포넌트 내부에서는 클래스들 사이에 수많은 의존성이 있으리라고 예상할 수 있다)
- 강하게 결합되지 않은 클래스들을 동일한 컴포넌트에 위치시켜서는 안된다
- 필요하지 않은 것에 의존하지 말라
- CRP는 클래스를 묶어도 되는지보다는 어떤 클래스를 한데 묶어서는 안 되는지에 대해서 훨씬 더 많은 것을 이야기한다.

### 컴포넌트 응집도에 대한 균형 다이어그램

- RED와 CCP는 포함 원칙이다 = 두 원칙은 컴포넌트를 더욱 크게 만든다
- CRP는 배체 원칙이다 = 컴포넌트를 더욱 작게 만든다
- 뛰어난 아키텍트라면 이 원칙들이 균형을 이루는 방법을 찾아야 한다
- REP(재사용성을 위한 그룹)를 포기했을 때 -> 재사용이 어렵다
- CCP(유지보수성을 위한 그룹)를 포기했을 때 -> 컴포넌트 변경이 너무 빈번해진다
- CRP(불필요한 릴리스를 피하기 위해 분리하기)를 포기했을때 -> 불필요한 릴리스가 너무 빈번해진다
- 프로젝트는 CCP를 중요하게 생각하며 시작했다가 프로젝트가 성숙하고, 파생된 또 다른 프로젝트가 시작되면 점점 REP쪽으로 이동한다

### 결론

- 어느 클래스들을 묶어서 컴포넌트로 만들지를 결정할 때, 재사용성과 개발 가능성이라는 상충하는 힘을 반드시 고려해야 한다.
- 이들 사이에서 균혀을 잡는 일은 중요하고, 항상 유동적이다